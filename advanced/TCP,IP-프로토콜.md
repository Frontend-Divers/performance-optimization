# TCP/IP 프로토콜

- TCP/IP 프로토콜은 일반적으로 TCP와 IP를 사용해 통신하는 방식을 의미하며 응용 계층부터 하드웨어까지의 계층을 모두 내포한다.
- 응용 계층(HTTP 등)에서 전달하고자하는 데이터를 TCP나 UDP 중 하나로 전송한다.
- 이때 해당하는 프로토콜은 데이터를 패킷 단위로 나누어 인터넷 네트워크 계층에 전달한다.
- 인터넷 네트워크 계층에서는 전달 받은 패킷을 IP 패킷에 포함시켜 네트워크 인터페이스 계층에 전달한다.
- 네트워크 인터페이스 계층에서는 받은 데이터를 하드웨어를 통해 전달한다.

<br>

## IP (Internet Protocol)

- IP는 출발지의 IP주소, 목적지의 IP 주소 등 정보를 주고 받는 데 사용하는 정보를 패킷에 담아 통신하도록 하는 프로토콜이다.
- IP는 신뢰성과 연결성을 보장하지 않는다.
- 전송 과정에서 패킷이 손상되거나, 순서가 뒤 바뀌는 등의 상황에 대한 대처가 어렵다는 단점이 있다.

<br>

## TCP (Transmission Control Protocol)

- TCP는 IP의 상위 계층으로 IP의 비신뢰성, 비연결성을 보완하는 프로토콜이다.
- 3-way hanshake를 통해 논리적 연결을 보장한다.
  - 송신측에서 SYN(접속 요청) 메시지를 보낸다.
  - 수신측에서는 ACK(요청 수락) 메시지를 보냄과 동시에 수신측에 대한 SYN 메시지를 보낸다.
  - 송신측에서 다시 ACK 메시지를 보냄으로써 논리적 연결을 달성한다.
- check sum 방식을 통해 데이터 손상 여부 확인한다.
- 순서 번호를 부여해 순서를 보장한다.
- 확인 응답 번호를 통해 실제 수신 여부를 확인하고 다음 순서를 지시한다.
- 정해진 시간이 지나거나 중복 ack가 도착하면 재전송을 시도한다.
- IP 주소에 PORT 정보를 더해 다수의 연결을 동시에 처리할 수 있도록 함

<br>

## UDP (User Datagram Protocol)

- IP와 거의 유사하나 PORT와 체크섬 정도만 추가된 프로토콜이다.
- 따라서 연결이나 데이터 전송, 순서 등을 보장하지 않는다.
- 애플리케이션에서 추가 작업을 할 수 있다.(고 한다.)
- 프로세스 자체가 가볍고 추가 작업에 여지가 있다는 장점이 있다.
- HTTP/3 사양에서는 UDP를 사용한다.(고 한다.)

<br>

## 참고
- [모든 개발자를 위한 HTTP 웹 기본 지식, 김영한(강의)](https://www.inflearn.com/course/http-%EC%9B%B9-%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC/dashboard)
- [TCP/IP프로토콜, ibm](https://www.ibm.com/docs/ko/aix/7.1?topic=protocol-tcpip-protocols)
- [TCP, 정보통신기술용어해설](http://www.ktword.co.kr/test/view/view.php?m_temp1=347)